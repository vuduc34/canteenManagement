"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[24],{4990:(I,w,b)=>{b.d(w,{K:()=>S});var i=b(5861);const f_LF="\n",f_NULL="\0";class _{constructor(e){const{command:s,headers:t,body:a,binaryBody:o,escapeHeaderValues:h,skipContentLengthHeader:n}=e;this.command=s,this.headers=Object.assign({},t||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=a||"",this.isBinaryBody=!1),this.escapeHeaderValues=h||!1,this.skipContentLengthHeader=n||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(e,s){const t={},a=o=>o.replace(/^\s+|\s+$/g,"");for(const o of e.headers.reverse()){o.indexOf(":");const n=a(o[0]);let r=a(o[1]);s&&"CONNECT"!==e.command&&"CONNECTED"!==e.command&&(r=_.hdrValueUnEscape(r)),t[n]=r}return new _({command:e.command,headers:t,binaryBody:e.binaryBody,escapeHeaderValues:s})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?_.toUnit8Array(e,this._binaryBody).buffer:e+this._body+f_NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const s of Object.keys(this.headers||{})){const t=this.headers[s];e.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${s}:${_.hdrValueEscape(`${t}`)}`:`${s}:${t}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(f_LF)+f_LF+f_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?(new TextEncoder).encode(e).length:0}static toUnit8Array(e,s){const t=(new TextEncoder).encode(e),a=new Uint8Array([0]),o=new Uint8Array(t.length+s.length+a.length);return o.set(t),o.set(s,t.length),o.set(a,t.length+s.length),o}static marshall(e){return new _(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class k{constructor(e,s){this.onFrame=e,this.onIncomingPing=s,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,s=!1){let t;if(t="string"==typeof e?this._encoder.encode(e):new Uint8Array(e),s&&0!==t[t.length-1]){const a=new Uint8Array(t.length+1);a.set(t,0),a[t.length]=0,t=a}for(let a=0;a<t.length;a++)this._onByte(t[a])}_collectFrame(e){if(0!==e&&13!==e){if(10===e)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(13!==e){if(10===e)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(e)}}_collectHeaders(e){if(13!==e){if(10===e)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(58===e)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(e)}_collectHeaderValue(e){if(13!==e){if(10===e)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(s=>"content-length"===s[0])[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){0!==e?this._consumeByte(e):this._retrievedBody()}_collectBodyFixedSize(e){0!=this._bodyBytesRemaining--?this._consumeByte(e):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var g,l,p;(l=g=g||(g={}))[l.CONNECTING=0]="CONNECTING",l[l.OPEN=1]="OPEN",l[l.CLOSING=2]="CLOSING",l[l.CLOSED=3]="CLOSED",function(l){l[l.ACTIVE=0]="ACTIVE",l[l.DEACTIVATING=1]="DEACTIVATING",l[l.INACTIVE=2]="INACTIVE"}(p=p||(p={}));class d{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}d.V1_0="1.0",d.V1_1="1.1",d.V1_2="1.2",d.default=new d([d.V1_2,d.V1_1,d.V1_0]);class v{constructor(e,s,t){this._client=e,this._webSocket=s,this._connected=!1,this._serverFrameHandlers={CONNECTED:a=>{this.debug(`connected to server ${a.headers.server}`),this._connected=!0,this._connectedVersion=a.headers.version,this._connectedVersion===d.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(a.headers),this.onConnect(a)},MESSAGE:a=>{const o=a.headers.subscription,h=this._subscriptions[o]||this.onUnhandledMessage,n=a,r=this,c=this._connectedVersion===d.V1_2?n.headers.ack:n.headers["message-id"];n.ack=(m={})=>r.ack(c,o,m),n.nack=(m={})=>r.nack(c,o,m),h(n)},RECEIPT:a=>{const o=this._receiptWatchers[a.headers["receipt-id"]];o?(o(a),delete this._receiptWatchers[a.headers["receipt-id"]]):this.onUnhandledReceipt(a)},ERROR:a=>{this.onStompError(a)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=t.debug,this.stompVersions=t.stompVersions,this.connectHeaders=t.connectHeaders,this.disconnectHeaders=t.disconnectHeaders,this.heartbeatIncoming=t.heartbeatIncoming,this.heartbeatOutgoing=t.heartbeatOutgoing,this.splitLargeFrames=t.splitLargeFrames,this.maxWebSocketChunkSize=t.maxWebSocketChunkSize,this.forceBinaryWSFrames=t.forceBinaryWSFrames,this.logRawCommunication=t.logRawCommunication,this.appendMissingNULLonIncoming=t.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=t.discardWebsocketOnCommFailure,this.onConnect=t.onConnect,this.onDisconnect=t.onDisconnect,this.onStompError=t.onStompError,this.onWebSocketClose=t.onWebSocketClose,this.onWebSocketError=t.onWebSocketError,this.onUnhandledMessage=t.onUnhandledMessage,this.onUnhandledReceipt=t.onUnhandledReceipt,this.onUnhandledFrame=t.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const e=new k(s=>{const t=_.fromRawFrame(s,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${t}`),(this._serverFrameHandlers[t.command]||this.onUnhandledFrame)(t)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=s=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const t=s.data instanceof ArrayBuffer?(new TextDecoder).decode(s.data):s.data;this.debug(`<<< ${t}`)}e.parseChunk(s.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=s=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(s)},this._webSocket.onerror=s=>{this.onWebSocketError(s)},this._webSocket.onopen=()=>{const s=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),s["accept-version"]=this.stompVersions.supportedVersions(),s["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:s})}}_setupHeartbeat(e){if(e.version!==d.V1_1&&e.version!==d.V1_2||!e["heart-beat"])return;const[s,t]=e["heart-beat"].split(",").map(a=>parseInt(a,10));if(0!==this.heartbeatOutgoing&&0!==t){const a=Math.max(this.heartbeatOutgoing,t);this.debug(`send PING every ${a}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===g.OPEN&&(this._webSocket.send(f_LF),this.debug(">>> PING"))},a)}if(0!==this.heartbeatIncoming&&0!==s){const a=Math.max(this.heartbeatIncoming,s);this.debug(`check PONG every ${a}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>2*a&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},a)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===g.CONNECTING||this._webSocket.readyState===g.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function O(l,e){l.terminate=function(){const s=()=>{};this.onerror=s,this.onmessage=s,this.onopen=s;const t=new Date,a=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=h=>{const n=(new Date).getTime()-t.getTime();e(`Discarded socket (#${a})  closed after ${n}ms, with code/reason: ${h.code}/${h.reason}`)},this.close(),null==o||o.call(l,{code:4001,reason:`Quick discarding socket (#${a}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:s,headers:t,body:a,binaryBody:o,skipContentLengthHeader:h}=e,n=new _({command:s,headers:t,body:a,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:h});let r=n.serialize();if(this.debug(this.logRawCommunication?`>>> ${r}`:`>>> ${n}`),this.forceBinaryWSFrames&&"string"==typeof r&&(r=(new TextEncoder).encode(r)),"string"==typeof r&&this.splitLargeFrames){let c=r;for(;c.length>0;){const m=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(m),this.debug(`chunk sent = ${m.length}, remaining = ${c.length}`)}}else this._webSocket.send(r)}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt="close-"+this._counter++),this.watchForReceipt(e.receipt,s=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(s)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===g.CONNECTING||this._webSocket.readyState===g.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:s,headers:t,body:a,binaryBody:o,skipContentLengthHeader:h}=e,n=Object.assign({destination:s},t);this._transmit({command:"SEND",headers:n,body:a,binaryBody:o,skipContentLengthHeader:h})}watchForReceipt(e,s){this._receiptWatchers[e]=s}subscribe(e,s,t={}){(t=Object.assign({},t)).id||(t.id="sub-"+this._counter++),t.destination=e,this._subscriptions[t.id]=s,this._transmit({command:"SUBSCRIBE",headers:t});const a=this;return{id:t.id,unsubscribe:o=>a.unsubscribe(t.id,o)}}unsubscribe(e,s={}){s=Object.assign({},s),delete this._subscriptions[e],s.id=e,this._transmit({command:"UNSUBSCRIBE",headers:s})}begin(e){const s=e||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:s}});const t=this;return{id:s,commit(){t.commit(s)},abort(){t.abort(s)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,s,t={}){t=Object.assign({},t),this._connectedVersion===d.V1_2?t.id=e:t["message-id"]=e,t.subscription=s,this._transmit({command:"ACK",headers:t})}nack(e,s,t={}){return t=Object.assign({},t),this._connectedVersion===d.V1_2?t.id=e:t["message-id"]=e,t.subscription=s,this._transmit({command:"NACK",headers:t})}}class S{constructor(e={}){this.stompVersions=d.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=p.INACTIVE;const s=()=>{};this.debug=s,this.beforeConnect=s,this.onConnect=s,this.onDisconnect=s,this.onUnhandledMessage=s,this.onUnhandledReceipt=s,this.onUnhandledFrame=s,this.onStompError=s,this.onWebSocketClose=s,this.onWebSocketError=s,this.logRawCommunication=!1,this.onChangeState=s,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}get webSocket(){var e;return null==(e=this._stompHandler)?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===p.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}configure(e){Object.assign(this,e)}activate(){const e=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(p.ACTIVE),this._connect())};this.state===p.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}_connect(){var e=this;return(0,i.Z)(function*(){if(yield e.beforeConnect(),e._stompHandler)return void e.debug("There is already a stompHandler, skipping the call to connect");if(!e.active)return void e.debug("Client has been marked inactive, will not attempt to connect");e.connectionTimeout>0&&(e._connectionWatcher&&clearTimeout(e._connectionWatcher),e._connectionWatcher=setTimeout(()=>{e.connected||(e.debug(`Connection not established in ${e.connectionTimeout}ms, closing socket`),e.forceDisconnect())},e.connectionTimeout)),e.debug("Opening Web Socket...");const s=e._createWebSocket();e._stompHandler=new v(e,s,{debug:e.debug,stompVersions:e.stompVersions,connectHeaders:e.connectHeaders,disconnectHeaders:e._disconnectHeaders,heartbeatIncoming:e.heartbeatIncoming,heartbeatOutgoing:e.heartbeatOutgoing,splitLargeFrames:e.splitLargeFrames,maxWebSocketChunkSize:e.maxWebSocketChunkSize,forceBinaryWSFrames:e.forceBinaryWSFrames,logRawCommunication:e.logRawCommunication,appendMissingNULLonIncoming:e.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:e.discardWebsocketOnCommFailure,onConnect:t=>{if(e._connectionWatcher&&(clearTimeout(e._connectionWatcher),e._connectionWatcher=void 0),!e.active)return e.debug("STOMP got connected while deactivate was issued, will disconnect now"),void e._disposeStompHandler();e.onConnect(t)},onDisconnect:t=>{e.onDisconnect(t)},onStompError:t=>{e.onStompError(t)},onWebSocketClose:t=>{e._stompHandler=void 0,e.state===p.DEACTIVATING&&e._changeState(p.INACTIVE),e.onWebSocketClose(t),e.active&&e._schedule_reconnect()},onWebSocketError:t=>{e.onWebSocketError(t)},onUnhandledMessage:t=>{e.onUnhandledMessage(t)},onUnhandledReceipt:t=>{e.onUnhandledReceipt(t)},onUnhandledFrame:t=>{e.onUnhandledFrame(t)}}),e._stompHandler.start()})()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return e.binaryType="arraybuffer",e}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(e={}){var s=this;return(0,i.Z)(function*(){var h;const t=e.force||!1,a=s.active;let o;if(s.state===p.INACTIVE)return s.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(s._changeState(p.DEACTIVATING),s._reconnector&&(clearTimeout(s._reconnector),s._reconnector=void 0),!s._stompHandler||s.webSocket.readyState===g.CLOSED)return s._changeState(p.INACTIVE),Promise.resolve();{const n=s._stompHandler.onWebSocketClose;o=new Promise((r,c)=>{s._stompHandler.onWebSocketClose=m=>{n(m),r()}})}return t?null==(h=s._stompHandler)||h.discardWebsocket():a&&s._disposeStompHandler(),o})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,s){this._checkConnection(),this._stompHandler.watchForReceipt(e,s)}subscribe(e,s,t={}){return this._checkConnection(),this._stompHandler.subscribe(e,s,t)}unsubscribe(e,s={}){this._checkConnection(),this._stompHandler.unsubscribe(e,s)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,s,t={}){this._checkConnection(),this._stompHandler.ack(e,s,t)}nack(e,s,t={}){this._checkConnection(),this._stompHandler.nack(e,s,t)}}},7773:(I,w,b)=>{b.d(w,{EV:()=>a,FN:()=>t});var i=b(7587),f=b(9808),_=b(9783),y=b(5921),T=b(5787),u=b(1777);const C=["container"],k=function(o,h,n,r){return{"pi-info-circle":o,"pi-exclamation-triangle":h,"pi-times-circle":n,"pi-check":r}};function g(o,h){if(1&o&&(i.ynx(0),i._UZ(1,"span",6),i.TgZ(2,"div",7)(3,"div",8),i._uU(4),i.qZA(),i.TgZ(5,"div",9),i._uU(6),i.qZA()(),i.BQk()),2&o){const n=i.oxw();i.xp6(1),i.Tol("p-toast-message-icon pi"+(n.message.icon?" "+n.message.icon:"")),i.Q6J("ngClass",i.l5B(5,k,"info"==n.message.severity,"warn"==n.message.severity,"error"==n.message.severity,"success"==n.message.severity)),i.xp6(3),i.Oqu(n.message.summary),i.xp6(2),i.Oqu(n.message.detail)}}function p(o,h){1&o&&i.GkF(0)}function d(o,h){if(1&o){const n=i.EpF();i.TgZ(0,"button",10),i.NdJ("click",function(c){i.CHM(n);const m=i.oxw();return i.KtG(m.onCloseIconClick(c))})("keydown.enter",function(c){i.CHM(n);const m=i.oxw();return i.KtG(m.onCloseIconClick(c))}),i._UZ(1,"span",11),i.qZA()}}const O=function(o){return[o,"p-toast-message"]},v=function(o,h,n,r){return{showTransformParams:o,hideTransformParams:h,showTransitionParams:n,hideTransitionParams:r}},S=function(o){return{value:"visible",params:o}},l=function(o){return{$implicit:o}};function e(o,h){if(1&o){const n=i.EpF();i.TgZ(0,"p-toastItem",3),i.NdJ("onClose",function(c){i.CHM(n);const m=i.oxw();return i.KtG(m.onMessageClose(c))})("@toastAnimation.start",function(c){i.CHM(n);const m=i.oxw();return i.KtG(m.onAnimationStart(c))})("@toastAnimation.done",function(c){i.CHM(n);const m=i.oxw();return i.KtG(m.onAnimationEnd(c))}),i.qZA()}if(2&o){const n=h.$implicit,r=h.index,c=i.oxw();i.Q6J("message",n)("index",r)("template",c.template)("@toastAnimation",void 0)("showTransformOptions",c.showTransformOptions)("hideTransformOptions",c.hideTransformOptions)("showTransitionOptions",c.showTransitionOptions)("hideTransitionOptions",c.hideTransitionOptions)}}let s=(()=>{class o{constructor(n){this.zone=n,this.onClose=new i.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(n){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),n.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return o.\u0275fac=function(n){return new(n||o)(i.Y36(i.R0b))},o.\u0275cmp=i.Xpm({type:o,selectors:[["p-toastItem"]],viewQuery:function(n,r){if(1&n&&i.Gf(C,5),2&n){let c;i.iGM(c=i.CRH())&&(r.containerViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(n,r){1&n&&(i.TgZ(0,"div",0,1),i.NdJ("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),i.TgZ(2,"div",2),i.YNc(3,g,7,10,"ng-container",3),i.YNc(4,p,1,0,"ng-container",4),i.YNc(5,d,2,0,"button",5),i.qZA()()),2&n&&(i.Tol(r.message.styleClass),i.Q6J("ngClass",i.VKq(10,O,"p-toast-message-"+r.message.severity))("@messageState",i.VKq(17,S,i.l5B(12,v,r.showTransformOptions,r.hideTransformOptions,r.showTransitionOptions,r.hideTransitionOptions))),i.uIk("id",r.message.id),i.xp6(2),i.Q6J("ngClass",r.message.contentStyleClass),i.xp6(1),i.Q6J("ngIf",!r.template),i.xp6(1),i.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",i.VKq(19,l,r.message)),i.xp6(1),i.Q6J("ngIf",!1!==r.message.closable))},dependencies:[f.mk,f.O5,f.tP,T.H],encapsulation:2,data:{animation:[(0,u.X$)("messageState",[(0,u.SB)("visible",(0,u.oB)({transform:"translateY(0)",opacity:1})),(0,u.eR)("void => *",[(0,u.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,u.jt)("{{showTransitionParams}}")]),(0,u.eR)("* => void",[(0,u.jt)("{{hideTransitionParams}}",(0,u.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),o})(),t=(()=>{class o{constructor(n,r,c){this.messageService=n,this.cd=r,this.config=c,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new i.vpe,this.id=(0,y.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(n=>{if(n)if(n instanceof Array){const r=n.filter(c=>this.canAdd(c));this.add(r)}else this.canAdd(n)&&this.add([n])}),this.clearSubscription=this.messageService.clearObserver.subscribe(n=>{n?this.key===n&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(n){this.messages=this.messages?[...this.messages,...n]:[...n],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...n]:[...n]),this.cd.markForCheck()}canAdd(n){let r=this.key===n.key;return r&&this.preventOpenDuplicates&&(r=!this.containsMessage(this.messages,n)),r&&this.preventDuplicates&&(r=!this.containsMessage(this.messagesArchieve,n)),r}containsMessage(n,r){return!!n&&null!=n.find(c=>c.summary===r.summary&&c.detail==r.detail&&c.severity===r.severity)}ngAfterContentInit(){this.templates.forEach(n=>{n.getType(),this.template=n.template})}onMessageClose(n){this.messages.splice(n.index,1),this.onClose.emit({message:n.message}),this.cd.detectChanges()}onAnimationStart(n){"void"===n.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&y.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(n){"void"===n.toState&&this.autoZIndex&&y.gb.isEmpty(this.messages)&&y.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let n="";for(let r in this.breakpoints){let c="";for(let m in this.breakpoints[r])c+=m+":"+this.breakpoints[r][m]+" !important;";n+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-toast[${this.id}] {\n                           ${c}\n                        }\n                    }\n                `}this.styleElement.innerHTML=n}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&y.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return o.\u0275fac=function(n){return new(n||o)(i.Y36(_.ez),i.Y36(i.sBO),i.Y36(_.b4))},o.\u0275cmp=i.Xpm({type:o,selectors:[["p-toast"]],contentQueries:function(n,r,c){if(1&n&&i.Suo(c,_.jx,4),2&n){let m;i.iGM(m=i.CRH())&&(r.templates=m)}},viewQuery:function(n,r){if(1&n&&i.Gf(C,5),2&n){let c;i.iGM(c=i.CRH())&&(r.containerViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(n,r){1&n&&(i.TgZ(0,"div",0,1),i.YNc(2,e,1,8,"p-toastItem",2),i.qZA()),2&n&&(i.Tol(r.styleClass),i.Q6J("ngClass","p-toast p-component p-toast-"+r.position)("ngStyle",r.style),i.xp6(2),i.Q6J("ngForOf",r.messages))},dependencies:[f.mk,f.sg,f.PC,s],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,u.X$)("toastAnimation",[(0,u.eR)(":enter, :leave",[(0,u.IO)("@*",(0,u.pV)())])])]},changeDetection:0}),o})(),a=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[f.ez,T.T,_.m8]}),o})()},5861:(I,w,b)=>{function i(_,y,T,u,C,k,g){try{var p=_[k](g),d=p.value}catch(O){return void T(O)}p.done?y(d):Promise.resolve(d).then(u,C)}function f(_){return function(){var y=this,T=arguments;return new Promise(function(u,C){var k=_.apply(y,T);function g(d){i(k,u,C,g,p,"next",d)}function p(d){i(k,u,C,g,p,"throw",d)}g(void 0)})}}b.d(w,{Z:()=>f})}}]);