"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[50],{8050:(F,g,r)=>{r.r(g),r.d(g,{LoginModule:()=>b});var m=r(9808),a=r(1891),v=r(5861),f=r(2340),e=r(7587),y=r(8568),x=r(9783),A=r(8874),C=r(520),M=r(851),d=r(845),c=r(1424),u=r(3075),p=r(8356),h=r(7773),Z=r(693);function S(o,i){1&o&&e._UZ(0,"app-loading")}const E=function(){return["/auth/dang-ky"]},L=function(){return["/auth/quen-mat-khau"]};let T=(()=>{class o{constructor(n,t,l,s,N,D){this.layoutService=n,this.messageService=t,this.authService=l,this.router=s,this.httpClient=N,this.secureStorageService=D,this.valCheck=["remember"],this.loading=!1}login(){var n=this;return(0,v.Z)(function*(){n.loading=!0,yield n.httpClient.post(f.N.backendApiUrl+"/api/v1/project/auth/signin",{userName:n.username,passWord:n.password}).toPromise().then(t=>{"0"==t.resultCode?(n.authService.setToken(t.data.token),n.authService.setUsername(t.data.username),n.authService.setFullname(t.data.fullname),n.authService.setAccountid(t.data.account_id),n.authService.setCartid(t.data.cart_id),n.authService.setEmail(t.data.email),n.authService.setPhonenumber(t.data.phoneNumber),n.authService.setRole(t.data.role),n.messageService.add({severity:"success",summary:"\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"}),n.router.navigate([n.authService.getRedirectUrl()])):n.messageService.add("-1"==t.resultCode?{severity:"error",summary:"Sai m\u1eadt kh\u1ea9u. Vui l\xf2ng th\u1eed l\u1ea1i!"}:{severity:"error",summary:"L\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i!"})},t=>{n.messageService.add({severity:"error",summary:"T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang"}),console.log(t)}),n.loading=!1})()}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(y.P),e.Y36(x.ez),e.Y36(A.e),e.Y36(a.F0),e.Y36(C.eN),e.Y36(M.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:27,vars:9,consts:[[4,"ngIf"],[1,"surface-0","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"grid","justify-content-center","p-2","lg:p-0",2,"min-width","80%"],[1,"col-12","mt-5","xl:mt-0","text-center"],["src","assets/layout/images/logo.svg","alt","Sakai logo",1,"mb-5",2,"width","81px","height","60px"],[1,"col-12","xl:col-6",2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"h-full","w-full","m-0","py-7","px-4",2,"border-radius","53px","background","linear-gradient(180deg, var(--surface-50) 38.9%, var(--surface-0))"],[1,"text-center","mb-5"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium"],[1,"w-full","md:w-10","mx-auto"],["for","username",1,"block","text-900","text-xl","font-medium","mb-2"],["id","username","type","text","placeholder","Username","pInputText","",1,"w-full","mb-3",2,"padding","1rem",3,"ngModel","ngModelChange"],["for","password",1,"block","text-900","font-medium","text-xl","mb-2"],["id","password","placeholder","M\u1eadt kh\u1ea9u","styleClass","w-full mb-3",3,"ngModel","toggleMask","ngModelChange"],[1,"flex","align-items-center","justify-content-between","mb-5"],[1,"flex","align-items-center"],["routerLinkActive","router-link-active",1,"font-medium","no-underline","ml-2","text-right","cursor-pointer",2,"color","var(--primary-color)",3,"routerLink"],["pButton","","pRipple","","label","\u0110\u0103ng nh\u1eadp",1,"w-full","p-3","text-xl",3,"disabled","click"]],template:function(n,t){1&n&&(e._UZ(0,"p-toast"),e.YNc(1,S,1,0,"app-loading",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"img",4),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e._uU(10,"Xin ch\xe0o!"),e.qZA(),e.TgZ(11,"span",9),e._uU(12,"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfp t\u1ee5c"),e.qZA()(),e.TgZ(13,"div",10)(14,"label",11),e._uU(15,"T\xean \u0111\u0103ng nh\u1eadp"),e.qZA(),e.TgZ(16,"input",12),e.NdJ("ngModelChange",function(s){return t.username=s}),e.qZA(),e.TgZ(17,"label",13),e._uU(18,"M\u1eadt kh\u1ea9u"),e.qZA(),e.TgZ(19,"p-password",14),e.NdJ("ngModelChange",function(s){return t.password=s}),e.qZA(),e.TgZ(20,"div",15)(21,"div",16)(22,"a",17),e._uU(23,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n?"),e.qZA()(),e.TgZ(24,"a",17),e._uU(25,"Qu\xean m\u1eadt kh\u1ea9u?"),e.qZA()(),e.TgZ(26,"button",18),e.NdJ("click",function(){return t.login()}),e.qZA()()()()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(15),e.Q6J("ngModel",t.username),e.xp6(3),e.Q6J("ngModel",t.password)("toggleMask",!0),e.xp6(3),e.Q6J("routerLink",e.DdM(7,E)),e.xp6(2),e.Q6J("routerLink",e.DdM(8,L)),e.xp6(2),e.Q6J("disabled",!t.username||!t.password))},dependencies:[m.O5,a.yS,a.Od,d.Hq,c.o,u.Fj,u.JJ,u.On,p.ro,h.FN,Z.N],styles:["[_nghost-%COMP%]     .p-password input{width:100%;padding:1rem}[_nghost-%COMP%]     .pi-eye{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}[_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]}),o})(),k=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.Bz.forChild([{path:"",component:T}]),a.Bz]}),o})();var J=r(1208),U=r(3860);let b=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,k,d.hJ,J.nD,c.j,u.u5,p.gz,h.EV,U.PagesModule]}),o})()}}]);